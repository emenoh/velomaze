
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bootstrap, from Twitter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <style type="text/css">
      #maze {
        position: absolute;
        top: 30px;
        left: 30px;
        right: 30px;
        bottom: 30px;
        border: 1px solid red;
      }
      #status {
        border: 1px solid red;
        position: absolute;
        height: 20px;
        left: 30px;
        right: 30px;
        bottom: 0;
      }
    </style>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(function() {
          var maze = {
            container: $('#maze'),
            rows: 10,
            cols: 10,
            getSquareWidth: function() {
                return maze.container.width() / maze.cols;
            },
            getSquareHeigth: function() {
                return maze.container.height() / maze.rows;
            }
          };
          var frame = 0;
          function update() {
            $('#status').html('Frame: ' + frame + ', width= ' + maze.getSquareWidth());
            frame++;
          };
          var ball = {
            x: 50,
            y: 50,
          };
          function deviceOrientationHandler(leftRightAngle, frontBackAngle) {
            var xFactor = Math.sin(leftRightAngle);
            var yFactor = Math.sin(frontBackAngle);
            $('#maze').html('xAcc='+ xFactor + ', yAcc=' + yFactor);
          };

          if (window.DeviceOrientationEvent) {
            window.addEventListener('deviceorientation', function(eventData) {
              deviceOrientationHandler(eventData.gamma /90.0*Math.PI/2, eventData.beta /90.0*Math.PI/2);
            }, false);
          } else if (window.OrientationEvent) {
            window.addEventListener('MozOrientation', function(eventData) {
              deviceOrientationHandler(eventData.x * Math.PI/2, eventData.y * Math.PI/2);
            }, false);
          } else {
            $('#status').html('Your device does not support orientation reading. Please use Android 4.0 or later, iOS (MBP laptop is fine) or similar platform.');
          }

          window.setInterval(function() { update(); }, 30);
      });
    </script>
  </head>

  <body>
    <div id="maze">
    </div>
    <div id="status"></div>
  </body>
</html>
